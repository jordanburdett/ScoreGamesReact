(this.webpackJsonpscore_games_react=this.webpackJsonpscore_games_react||[]).push([[0],{170:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=(a(170),a(8)),l=a(149),m=a(243),u=a(128),s=a(26),d=a.n(s),g=a(41),f=a(209),p=a(235),E=a(130),h=a.n(E),v=a(131),b=a.n(v),y=a(255),x=a(236),j=a(54),O=a.n(j);O.a.initializeApp({apiKey:"AIzaSyB2aJwBVVsCSVzX_MnSHAbO5gXgn59CeXs",authDomain:"scoregames-c0233.firebaseapp.com",databaseURL:"https://scoregames-c0233.firebaseio.com",projectId:"scoregames-c0233",storageBucket:"scoregames-c0233.appspot.com",messagingSenderId:"475132375224",appId:"1:475132375224:web:206d8be3fc01e8faa6044d",measurementId:"G-RQT21T265Y"});var S=O.a.database(),k=O.a;var C=function(e){var t=e.game,a=e.onClick,c=Object(n.useState)(new Date(t.date)),i=Object(o.a)(c,1)[0],l=Object(n.useState)(t.name),m=Object(o.a)(l,1)[0],u=Object(n.useState)(t.isFavorite),s=Object(o.a)(u,2),d=s[0],g=s[1];return Object(n.useEffect)((function(){k.database().ref("games/".concat(t.id,"/isFavorite")).on("value",(function(e){g(e.val())}))}),[]),r.a.createElement(f.a,{key:t.id,button:!0,onClick:function(){a(t)}},r.a.createElement(p.a,{primary:m,secondary:i.toDateString()}),r.a.createElement(x.a,null,r.a.createElement(y.a,{edge:"end",checked:d,onChange:function(){var e,a;e=!d,a=t.id,S.ref("games/"+a).update({isFavorite:e},(function(){console.log("Favorite updated")}))},checkedIcon:r.a.createElement(h.a,{style:{color:"#FFDF00"}}),icon:r.a.createElement(b.a,null)})))},w=a(240),I=a(241),N=a(238),T=a(239),A=a(36),P=a(25),R=function(){function e(t,a,n,r){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(A.a)(this,e),this.id=void 0,this.date=void 0,this.name=void 0,this.teams=void 0,this.isFavorite=void 0,this.id=t,this.date=a,this.name=n,this.teams=r,this.isFavorite=c}return Object(P.a)(e,[{key:"tempGame",value:function(){return new e(this.id,this.date,this.name,this.teams,this.isFavorite)}}]),e}(),F=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new W;Object(A.a)(this,e),this.name=void 0,this.score=void 0,this.history=void 0,this.name=t,this.score=a,this.history=n}return Object(P.a)(e,[{key:"addScore",value:function(e){this.score+=e,e>0?this.history.addScore("+"+String(e)):this.history.addScore(String(e))}},{key:"createTeamForFirebase",value:function(){return new e(this.name,this.score,this.history)}}]),e}(),W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(A.a)(this,e),this.pastScores=void 0,this.pastScores=t}return Object(P.a)(e,[{key:"addScore",value:function(e){this.pastScores.push(e)}},{key:"removeScore",value:function(e){this.pastScores.splice(e,1)}},{key:"editScore",value:function(e,t){this.pastScores[e]=t}},{key:"calcTotalScore",value:function(){var e=0;return this.pastScores.forEach((function(t){var a=Number(t);e+=a})),e}}]),e}(),B=function(){function e(t){Object(A.a)(this,e),this.teams=void 0,this.teams=t}return Object(P.a)(e,[{key:"setValue",value:function(e,t){this.teams[e]=t}},{key:"getValueAtIndex",value:function(e){return this.teams[e]}}]),e}();function G(e){var t=e.val(),a=t.id||"",n=t.date||0,r=t.name||"",c=t.teams||null,i=t.isFavorite||!1;return new R(a,n,r,c,i)}var D=a(132),L=a.n(D),M=a(57),U=k.database(),q=[],H=Object(N.a)((function(e){return Object(T.a)({spinner:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},alignItems:"center",justifyContent:"center",minHeight:"200px"}})}));function V(e){var t,a=e.startGame,c=H(),i=Object(n.useState)(q),l=Object(o.a)(i,2),m=l[0],u=l[1],s=Object(n.useState)(!1),f=Object(o.a)(s,2),p=f[0],E=f[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),b=v[0],y=v[1],x=U.ref(),j=x.child("/Users/"+(null===(t=k.auth().currentUser)||void 0===t?void 0:t.uid)),O=x.child("/games");return Object(n.useEffect)((function(){j.child("/games").orderByChild("date").on("value",function(){var e=Object(g.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.val()){e.next=4;break}return E(!1),y(!0),e.abrupt("return");case 4:a=0,n=[],t.forEach((function(e){O.child("/"+e.key).once("value",(function(r){if(null===r.val())j.child("/games/"+e.key).set(null);else{var c=G(r);n.push(c),(a+=1)===t.numChildren()&&(n.reverse(),u(n),E(!0),y(!1))}}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(w.a,{component:"nav"},m.map((function(e,t){return r.a.createElement("div",{key:e.id},0!==t&&r.a.createElement(I.a,null),r.a.createElement(C,{onClick:a,game:e}))}))):b?r.a.createElement(M.a,{variant:"subtitle1",style:{padding:"20px"}},"No games here... You should make one!"):r.a.createElement("div",{className:c.spinner},r.a.createElement(L.a,null)))}var _,z=a(244),J=a(245),Y=a(237),K=a(133),X=a.n(K),Q=a(134),$=a.n(Q),Z=a(63),ee=a.n(Z),te=a(150),ae=a(246),ne=Object(N.a)((function(e){return Object(T.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),re=function(e){var t=e.title,a=e.showBackArrow,n=e.onBackArrowClick,c=ne(),i=r.a.useState(null),l=Object(o.a)(i,2),m=l[0],u=l[1];return r.a.createElement("div",{className:c.root},r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(Y.a,{edge:"start",color:"inherit","aria-label":"menu",className:c.menuButton,onClick:function(){return a?n():void 0}},a?r.a.createElement(ee.a,null):r.a.createElement(X.a,null)),r.a.createElement(M.a,{variant:"h6",className:c.title},t),r.a.createElement(Y.a,{color:"inherit",edge:"end",onClick:function(e){u(e.currentTarget)}},r.a.createElement($.a,null)),r.a.createElement(te.a,{id:"accountMenu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){u(null)}},r.a.createElement(ae.a,{onClick:function(){k.auth().signOut()}},"Sign Out")))),r.a.createElement(J.a,null))},ce=a(251),ie=a(18),oe=a(136),le=a.n(oe),me=a(137),ue=a.n(me),se=a(138),de=a.n(se),ge=a(250),fe=a(254),pe=a(248),Ee=a(247),he=a(214),ve=a(135),be=a.n(ve),ye=Object(N.a)((function(e){return Object(T.a)({card:{},text:{}})})),xe=function(e){var t=e.team,a=e.onDelete,n=ye();return r.a.createElement(he.a,{className:n.card,variant:"outlined"},r.a.createElement(Ee.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(Ee.a,{item:!0,xs:8},r.a.createElement(M.a,{variant:"subtitle1",style:{padding:"5px",paddingTop:"20px",paddingBottom:"20px"}},t.name)),r.a.createElement(Ee.a,{item:!0,xs:4},r.a.createElement(Y.a,{onClick:function(){return a(t.name)}},r.a.createElement(be.a,null)))))},je=le()((function(e){return ue()({root:{justifyContent:"center",textAlign:"center",alignItems:"center"},paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})})),Oe=[],Se=function(e){var t=e.startGame,a=je(),c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(Oe),s=Object(o.a)(u,2),f=s[0],p=s[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),v=h[0],b=h[1],y=Object(n.useState)(!1),x=Object(o.a)(y,2),j=x[0],O=x[1],S=Object(n.useState)(""),C=Object(o.a)(S,2),w=C[0],I=C[1],N=Object(n.useState)(!1),T=Object(o.a)(N,2),A=T[0],P=T[1],W=function(){if(""!==v){var e=new F(v);p([].concat(Object(ie.a)(f),[e])),b("")}},B=function(){var e=Object(g.a)(d.a.mark((function e(a){var n,r,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(f.length<1)){e.next=5;break}return console.log("Need at least one team to continue"),O(!0),e.abrupt("return");case 5:return r=null===(n=k.auth().currentUser)||void 0===n?void 0:n.uid,e.next=8,k.database().ref("/games").push();case 8:c=e.sent,i=new R(c.key||String(Date.now()),Date.now(),l,f),c.set(i),(o=new Map).set(c.key,!0),k.database().ref("/Users/"+r+"/games").update(Object.fromEntries(o),(function(){t(i)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){console.log("deleteingTeam");var t=Object(ie.a)(f),a=t.findIndex((function(t){return t.name===e}));t.splice(a,1),p(t)};return r.a.createElement("div",{className:a.root},r.a.createElement(de.a,{component:"main",maxWidth:"xs"},r.a.createElement(pe.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(M.a,{component:"h1",variant:"h4"},""!==l?l:"New Game"),r.a.createElement("form",{className:a.form,onSubmit:B},r.a.createElement(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Game Name",name:"gameName",value:l,onChange:function(e){m(e.target.value)},autoFocus:!0}),r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{component:"p",variant:"h6"},"Teams/Players")),f.map((function(e,t){return r.a.createElement(Ee.a,{item:!0,xs:6,key:t+e.name},r.a.createElement(xe,{team:e,onDelete:D}))})),r.a.createElement(Ee.a,{item:!0,xs:12},0===f.length&&r.a.createElement(M.a,{component:"p",variant:"subtitle2",color:"textSecondary"},"Teams will show up here once added")),r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0,xs:8},r.a.createElement(fe.a,{variant:"outlined",margin:"normal",label:"Team Name",value:v,onChange:function(e){b(e.target.value)},autoComplete:"current-password",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),W())},error:j})),r.a.createElement(Ee.a,{item:!0,xs:4},r.a.createElement(ge.a,{fullWidth:!0,variant:"text",color:"secondary",className:a.submit,onClick:W},"Add Team")))),r.a.createElement(ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Create Game"),r.a.createElement(Ee.a,{container:!0,alignContent:"center",alignItems:"center",justify:"center",spacing:1,style:{marginTop:"10px"}},r.a.createElement(M.a,{style:{width:"100%",marginBottom:"10px"}},"or"),r.a.createElement(M.a,null,"Enter GameCode"),r.a.createElement(fe.a,{value:w,onChange:function(e){I(e.target.value)},error:A,style:{margin:"15px"}}),r.a.createElement(ge.a,{onClick:function(){k.database().ref("GameCodes/").orderByChild("code").equalTo(w).once("child_added").then((function(e){if(e.val()){var a;console.log("HERE"),console.log("HERE",e.key),P(!1),k.database().ref("games/"+e.key).once("value").then((function(e){var a=G(e);t(a)}));var n=new Map;n.set(e.key,!0),k.database().ref("/Users/"+(null===(a=k.auth().currentUser)||void 0===a?void 0:a.uid)+"/games").update(Object.fromEntries(n))}else P(!0)}))},variant:"outlined",color:"primary",style:{marginTop:"10px"}},"Add By Code"))))))},ke=a(148),Ce=a.n(ke),we=a(53),Ie=a.n(we),Ne=a(140),Te=a.n(Ne),Ae=a(88),Pe=a.n(Ae),Re=a(141),Fe=a.n(Re),We=a(139),Be=a.n(We),Ge=Object(N.a)((function(e){return Object(T.a)({paper:{marginTop:e.spacing(2),textAlign:"center",padding:"10px"},teamName:{textAlign:"left",marginLeft:e.spacing(2)},history:{padding:"5px",margin:"5px"},editButton:{textAlign:"right"},clearIconContainer:{},clearIcon:{padding:"0",margin:"0"}})})),De=function(e){var t=e.isEditing,a=e.score,n=e.index,c=e.teamIndex,i=e.teamHistory,o=e.teamScore,l=e.gameId,m=Ge();return r.a.createElement(he.a,{variant:"outlined",className:m.history},r.a.createElement(Ee.a,{container:!0,justify:"center",alignItems:"center"},t&&r.a.createElement(Ee.a,{item:!0,xs:12,className:m.clearIconContainer},r.a.createElement(Y.a,{onClick:function(e){e.stopPropagation(),function(){if(t){var e=Object(ie.a)(i.pastScores);e.splice(n,1);var r=o-Number(a);console.log("current team history",i),console.log("current team index ",c),k.database().ref("/games/"+l+"/teams/"+c).update({score:r,history:{pastScores:e}},(function(){console.log("history removed")}))}}()},className:m.clearIcon},r.a.createElement(Be.a,{fontSize:"small",className:m.clearIcon}))),r.a.createElement(Ee.a,{item:!0,xs:12},a)))},Le=Object(N.a)((function(e){return Object(T.a)({paper:{marginTop:e.spacing(2),textAlign:"center",padding:"10px"},teamName:{textAlign:"left",marginLeft:e.spacing(2)},history:{padding:"5px",margin:"5px"},editButton:{textAlign:"right"},clearIconContainer:{},clearIcon:{padding:"0",margin:"0"}})})),Me=function(e){var t=e.team,a=e.updatePoints,c=e.index,i=e.gameId,l=Le(),m=Object(n.useState)(!1),u=Object(o.a)(m,2),s=u[0],d=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),p=f[0],E=f[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),b=v[0],y=v[1],x=function(e){""!==p&&(a(Number(e?p:"-"+p),c),E(""),d(!1))};return r.a.createElement(he.a,{className:l.paper,variant:"outlined",onClick:function(){d(!s)}},r.a.createElement(Ee.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h6",className:l.teamName},t.name)),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h5"},t.score)),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(Y.a,null,r.a.createElement(Te.a,null))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{item:!0,xs:3},r.a.createElement(Y.a,{onClick:function(){return x(!1)}},r.a.createElement(Pe.a,{color:"secondary"}))),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"tel",label:"+ or - Score",name:"gameName",value:p,onChange:function(e){isNaN(Number(e.target.value))||E(e.target.value)},autoFocus:!0,inputMode:"numeric",onClick:function(e){return e.stopPropagation()}})),r.a.createElement(Ee.a,{item:!0,xs:3},r.a.createElement(Y.a,{onClick:function(){return x(!0)}},r.a.createElement(Ie.a,{color:"primary"}))),t.history&&t.history.pastScores.map((function(e,a){return r.a.createElement(De,{key:"indexof"+e+a,isEditing:b,score:e,index:a,teamIndex:c,teamScore:t.score,teamHistory:t.history,gameId:i})})),r.a.createElement(Ee.a,{item:!0,xs:12,className:l.editButton},r.a.createElement(Y.a,{onClick:function(e){e.stopPropagation(),y(!b)}},r.a.createElement(Fe.a,null))))))},Ue=a(142),qe=a.n(Ue),He=a(143),Ve=a.n(He),_e=function(e){var t=e.round,a=e.game,n=e.backToEdit,c=e.confirmRound;return r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",spacing:2,style:{textAlign:"center",padding:"20px"}},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h5"},"Summary")),a.teams.map((function(e,a){return r.a.createElement(Ee.a,{item:!0,xs:4,key:e.name+a},r.a.createElement(he.a,{variant:"outlined"},r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",spacing:2},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h6"},e.name)),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"subtitle1"},t.teams[a])))))})),r.a.createElement(Ee.a,{container:!0,style:{paddingTop:"20px"}},r.a.createElement(Ee.a,{item:!0,xs:6,style:{textAlign:"left"}},r.a.createElement(ge.a,{variant:"outlined",color:"secondary",onClick:function(){return n()}},"Edit")),r.a.createElement(Ee.a,{item:!0,xs:6,style:{textAlign:"right"}},r.a.createElement(ge.a,{variant:"outlined",color:"primary",onClick:function(){return c(t)}},"Confirm"))))},ze=a(104),Je=a.n(ze),Ye=function(e){var t=e.currentTeamIndex,a=e.onPreviousPlayer,n=e.game,c=e.onNextPlayer,i=e.showSummary,o=e.exitRound;return r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",style:{marginTop:"10px"}},r.a.createElement(Ee.a,{item:!0,xs:4},t>0?r.a.createElement(Y.a,{style:{paddingLeft:"0",marginLeft:"0"},onClick:function(){return a()}},r.a.createElement(ee.a,null),r.a.createElement(M.a,{noWrap:!0},n.teams[t-1].name)):r.a.createElement(Y.a,{style:{paddingLeft:"0",marginLeft:"0"},onClick:function(){return o()}},r.a.createElement(ee.a,null),r.a.createElement(M.a,{noWrap:!0},"Back"))),r.a.createElement(Ee.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(M.a,{variant:"h5"},n.teams[t].name)),r.a.createElement(Ee.a,{item:!0,xs:4,style:{textAlign:"right"}},t<n.teams.length-1?r.a.createElement(Y.a,{style:{paddingRight:"0",marginRight:"0"},onClick:function(){return c()}},r.a.createElement(M.a,{noWrap:!0},n.teams[t+1].name),r.a.createElement(Je.a,null)):r.a.createElement(Y.a,{style:{paddingRight:"0",marginRight:"0"},onClick:function(){return i()}},r.a.createElement(M.a,{noWrap:!0},"Summary"),r.a.createElement(Je.a,null))))},Ke=function(e){var t=e.textField,a=e.score,n=e.setScore,c=e.showSummary,i=e.onNextPlayer,o=e.game,l=e.currentTeamIndex;return r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(Ee.a,{item:!0,xs:3,style:{textAlign:"right"}},r.a.createElement(Y.a,{onClick:function(){l+1===o.teams.length?c(!0):i(!0)}},r.a.createElement(Pe.a,{color:"secondary"}))),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(fe.a,{inputRef:t,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"tel",label:"Score this Round",value:a,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),l===o.teams.length-1?c():i())}(e)},autoFocus:!0,inputMode:"numeric",onClick:function(e){return e.stopPropagation()}})),r.a.createElement(Ee.a,{item:!0,xs:3,style:{textAlign:"left"}},r.a.createElement(Y.a,{onClick:l+1===o.teams.length?function(){return c()}:function(){return i()}},r.a.createElement(Ie.a,{color:"primary"}))))},Xe=function(e){var t=e.game,a=e.currentTeamIndex;return r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",style:{paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"},spacing:0},r.a.createElement(Ee.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(M.a,{variant:"subtitle1"},"History")),t.teams[a].history&&t.teams[a].history.pastScores.map((function(e,n){return r.a.createElement(De,{key:t.teams[a].name+e+n,isEditing:!1,score:e,index:n,teamIndex:a,teamHistory:t.teams[a].history,teamScore:t.teams[a].score,gameId:t.id})})))},Qe=function(e){var t=e.currentTeamIndex,a=e.onPreviousPlayer,n=e.onNextPlayer,c=e.showSummary,i=e.game,o=e.score,l=e.setScore,m=e.textField,u=e.exitRound;return r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",style:{paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"},spacing:0},r.a.createElement(Ye,{currentTeamIndex:t,onPreviousPlayer:a,game:i,onNextPlayer:n,showSummary:c,exitRound:u}),r.a.createElement(Ke,{game:i,score:o,currentTeamIndex:t,textField:m,onPreviousPlayer:a,onNextPlayer:n,showSummary:c,setScore:l}),r.a.createElement(Xe,{game:i,currentTeamIndex:t}),r.a.createElement(Ee.a,{item:!0,xs:12,style:{textAlign:"right",paddingTop:"40px"}},t<i.teams.length-1?r.a.createElement(ge.a,{variant:"outlined",onClick:function(){return n()}},"Next Player"):r.a.createElement(ge.a,{variant:"outlined",onClick:function(){return c()}},"Summary")))},$e=function(e){var t=e.game,a=e.applyRound,c=e.exitRound,i=Object(n.useState)(0),l=Object(o.a)(i,2),m=l[0],u=l[1],s=Object(n.useState)(""),d=Object(o.a)(s,2),g=d[0],f=d[1],p=Object(n.useState)(new B([])),E=Object(o.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!1),y=Object(o.a)(b,2),x=y[0],j=y[1],O=Object(n.createRef)();return r.a.createElement("div",{style:{paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"}},x?r.a.createElement(_e,{round:h,game:t,backToEdit:function(){j((function(){return!1}))},confirmRound:a}):r.a.createElement(Qe,{currentTeamIndex:m,game:t,score:g,textField:O,onPreviousPlayer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v((function(e){var a="0";return a=t?""!==g?"-"+g:"0":""!==g?g:"0",e.setValue(m,a),u((function(t){return t<=0?t:(f((function(){return e.teams[t-1]?(console.log("We have an item",e.teams[t-1]),e.teams[t-1]):""})),t-1)})),e})),null===(e=O.current)||void 0===e||e.focus()},onNextPlayer:function(){var e,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v((function(e){var n="0";return n=a?""!==g?"-"+g:"0":""!==g?g:"0",e.setValue(m,n),u((function(a){return a===t.teams.length-1?a:(f((function(){return e.teams[a+1]?(console.log("We have an item",e.teams[a+1]),String(Number(e.teams[a+1]))):""})),a+1)})),e})),null===(e=O.current)||void 0===e||e.focus()},showSummary:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v((function(t){var a="0";return a=e?""!==g?"-"+g:"0":""!==g?g:"0",t.setValue(m,a),t})),j((function(){return!0}))},setScore:f,exitRound:c}))},Ze=function(e){return r.a.createElement("div",null,"Hand & Foot Rules: ",e.link)},et=function(e){var t=Object(n.useState)(e.game),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),m=Object(o.a)(l,2),u=m[0],s=m[1],f=r.a.useState(null),p=Object(o.a)(f,2),E=p[0],h=p[1],v=Object(n.useState)("Loading..."),b=Object(o.a)(v,2),y=b[0],x=b[1],j=Object(n.useState)(!0),O=Object(o.a)(j,2),S=O[0],C=O[1],w=Object(n.useState)(""),I=Object(o.a)(w,2),N=I[0],T=I[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),R=P[0],F=P[1],W=function(){var e=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(t.target.value),e.next=3,D(t.target.value);case 3:if(!e.sent){e.next=7;break}F(!1),e.next=8;break;case 7:F(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(N)?k.database().ref("/GameCodes/"+c.id).set({code:N}):F(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.database().ref("GameCodes/").orderByChild("code").equalTo(t).once("value");case 2:if(!e.sent.val()){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(t,a){var n=[];c.teams[a].history?n=[].concat(Object(ie.a)(c.teams[a].history.pastScores),t>0?["+"+String(t)]:[String(t)]):t>0?n.push("+"+String(t)):n.push(String(t));var r=c.teams[a].score+t;k.database().ref("/games/"+e.game.id+"/teams/"+a).update({score:r,history:{pastScores:n}})};Object(n.useEffect)((function(){var e=k.database();e.ref("/games/"+c.id).on("value",(function(e){i((function(t){return G(e)}))})),e.ref("/GameCodes/"+c.id).on("value",(function(e){e.val()?(console.log("game code "+e.val().code),x((function(t){return e.val().code})),C((function(e){return!0}))):(console.log("no game code"),C((function(e){return!1})))}))}),[]);return r.a.createElement("div",null,!u&&r.a.createElement(Ee.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(Y.a,{style:{margin:"0",padding:"0"},onClick:function(e){h(e.currentTarget)}},r.a.createElement(qe.a,null)),r.a.createElement(te.a,{id:"settingsMenu",anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:function(){h(null)}},S?r.a.createElement(ae.a,null,'GameCode is "',y,'"'):r.a.createElement(ae.a,null,r.a.createElement(M.a,null,"Set a gameCode"),r.a.createElement(fe.a,{value:N,onChange:W,style:{padding:"5px",marginLeft:"5px",marginRight:"5px"},error:R}),r.a.createElement(ge.a,{variant:"outlined",color:"primary",onClick:B},"Save")),r.a.createElement(ae.a,null,r.a.createElement(Ze,{link:"www.google.com"})))),r.a.createElement(Ee.a,{item:!0,xs:6,style:{textAlign:"right"}},r.a.createElement(Y.a,{style:{marginRight:"0",paddingRight:"0"},onClick:function(){return s(!0)}},r.a.createElement(M.a,null,"Score Round"),r.a.createElement(Ve.a,null)))),u?r.a.createElement($e,{game:c,applyRound:function(e){e.teams.forEach((function(e,t){L(Number(e),t)})),s(!1)},exitRound:function(){s((function(e){return!1}))}}):c.teams.map((function(t,a){return r.a.createElement(Me,{team:t,key:t.name+a,index:a,updatePoints:L,gameId:e.game.id})})))},tt=a(144),at=Object(tt.a)(Ce.a)(_||(_=Object(u.a)(["\n  position: fixed;\n  bottom: 16px;\n  right: 16px;\n"]))),nt=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),m=Object(o.a)(l,2),u=m[0],s=m[1],d=Object(n.useState)(undefined),g=Object(o.a)(d,2),f=g[0],p=g[1],E=function(e){p(e),i(!1),s(!0)};return r.a.createElement("div",null,r.a.createElement(re,{title:c?"Create Game":u?f.name:"My Games",showBackArrow:!(!u&&!c),onBackArrowClick:function(){i(!1),s(!1)}}),r.a.createElement(ce.a,null,c&&r.a.createElement(Se,{startGame:E}),u&&r.a.createElement(et,{game:f}),!1===c&&!1===u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{startGame:E}),r.a.createElement("div",null,r.a.createElement(at,{color:"secondary",size:"large","aria-label":"add",onClick:function(){i(!0),s(!1)}},r.a.createElement(Ie.a,null))))))},rt=a(256),ct=a(252),it=a(253),ot=a(257),lt=a(90),mt=a.n(lt),ut=a(249),st=a(89),dt=a.n(st);function gt(){return r.a.createElement(M.a,{variant:"body2",color:"textSecondary",align:"center"},"\xa9 Copyright ",(new Date).getFullYear()," | Jordan Burdett")}var ft=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function pt(e){var t=e.toggle,a=ft(),c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(""),s=Object(o.a)(u,2),d=s[0],g=s[1],f=Object(n.useState)(!1),p=Object(o.a)(f,2),E=p[0],h=p[1],v=Object(n.useState)(!1),b=Object(o.a)(v,2),x=b[0],j=b[1];return r.a.createElement(ce.a,{component:"main",maxWidth:"xs"},r.a.createElement(pe.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(rt.a,{className:a.avatar},r.a.createElement(mt.a,null)),r.a.createElement(M.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),k.auth().signInWithEmailAndPassword(l,d).catch((function(e){var t=e.code;e.message;"auth/wrong-password"===t&&j(!0),console.log(e)}))}},r.a.createElement(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:l,onChange:function(e){m(e.target.value.toLowerCase())},autoFocus:!0}),r.a.createElement(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:d,onChange:function(e){g(e.target.value)},autoComplete:"current-password"}),x&&r.a.createElement(ut.a,{error:!0},"* Incorrect Password"),r.a.createElement(ct.a,{control:r.a.createElement(y.a,{value:"remember",checked:E,color:"primary",onChange:function(){return h(!E)}}),label:"Remember me"}),r.a.createElement(ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:!0},r.a.createElement(it.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(Ee.a,{item:!0},r.a.createElement(it.a,{onClick:function(){return t()},variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(dt.a,{onClick:function(){var e=new k.auth.GoogleAuthProvider;k.auth().signInWithPopup(e).then((function(e){console.log(e)})).catch((function(e){e.code,e.message,e.email,e.credential}))},style:{marginTop:"50px"}}))))),r.a.createElement(ot.a,{mt:8},r.a.createElement(gt,null)))}function Et(){return r.a.createElement(M.a,{variant:"body2",color:"textSecondary",align:"center"},"\xa9 Copyright ",(new Date).getFullYear()," | Jordan Burdett")}var ht=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function vt(e){var t=e.toggle,a=ht(),c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(""),s=Object(o.a)(u,2),d=s[0],g=s[1],f=Object(n.useState)(!1),p=Object(o.a)(f,2),E=p[0],h=p[1],v=Object(n.useState)(!1),b=Object(o.a)(v,2),x=b[0],j=b[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),C=S[0],w=S[1];return r.a.createElement(ce.a,{component:"main",maxWidth:"xs"},r.a.createElement(pe.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(rt.a,{className:a.avatar},r.a.createElement(mt.a,null)),r.a.createElement(M.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),k.auth().createUserWithEmailAndPassword(l,d).catch((function(e){w(e.message),j(!0)}))}},r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(fe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:l,onChange:function(e){m(e.target.value.toLowerCase())},autoFocus:!0})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){g(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(ct.a,{control:r.a.createElement(y.a,{value:"keepMeSignedIn",color:"primary",checked:E,onChange:function(){return h(!E)}}),label:"Always remember me on this device?"}),x&&r.a.createElement(ut.a,{error:!0},"* ",C))),r.a.createElement(ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(Ee.a,{container:!0,justify:"flex-end"},r.a.createElement(Ee.a,{item:!0},r.a.createElement(it.a,{onClick:function(){return t()},variant:"body2"},"Already have an account? Sign in"))),r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(dt.a,{onClick:function(){var e=new k.auth.GoogleAuthProvider;k.auth().signInWithPopup(e).then((function(e){console.log(e)})).catch((function(e){e.code,e.message,e.email,e.credential}))},style:{marginTop:"50px"}}))))),r.a.createElement(ot.a,{mt:5},r.a.createElement(Et,null)))}var bt=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],i=a[1],l=function(){i(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null,r.a.createElement(M.a,{align:"center",variant:"h3",style:{marginTop:"50px"}},"Score Games")),c?r.a.createElement(vt,{toggle:l}):r.a.createElement(pt,{toggle:l}))};var yt=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=(t[1],a?"dark":"light"),i=Object(n.useState)(!1),u=Object(o.a)(i,2),s=u[0],d=u[1],g=Object(l.a)({palette:{type:c}});return Object(n.useEffect)((function(){O.a.auth().onAuthStateChanged((function(e){d(!!e)}))}),[]),r.a.createElement(m.a,{theme:g},s?r.a.createElement(nt,null):r.a.createElement(bt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.7cdf08b1.chunk.js.map